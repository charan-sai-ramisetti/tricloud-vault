<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | TriCloud Vault</title>

  <link rel="stylesheet" href="../css/dashboard.css" />
</head>

<body>

  <!-- ===============================
       TOP NAVBAR
       =============================== -->
  <header class="topbar">
    <div class="logo">☁️ TriCloud Vault</div>

    <div class="topbar-actions">
      <span class="plan-badge" id="plan-name">FREE</span>
      <button id="upgrade-btn">Upgrade</button>
      <button class="logout-btn" onclick="logout()">Logout</button>
    </div>
  </header>

  <!-- ===============================
       MAIN DASHBOARD
       =============================== -->
  <main class="dashboard">

    <!-- STORAGE USAGE -->
    <section class="card">
      <h3>Storage Usage</h3>

      <div class="storage-row">
        <div class="storage-label">
          <span>AWS</span>
          <small id="aws-text">0 MB / 0 MB</small>
        </div>
        <div class="progress-bar">
          <div id="aws-bar"></div>
        </div>
      </div>

      <div class="storage-row">
        <div class="storage-label">
          <span>Azure</span>
          <small id="azure-text">0 MB / 0 MB</small>
        </div>
        <div class="progress-bar">
          <div id="azure-bar"></div>
        </div>
      </div>

      <div class="storage-row">
        <div class="storage-label">
          <span>GCP</span>
          <small id="gcp-text">0 MB / 0 MB</small>
        </div>
        <div class="progress-bar">
          <div id="gcp-bar"></div>
        </div>
      </div>
    </section>

    <!-- UPLOAD FILE -->
    <section class="card">
  <h3>Upload File</h3>

  <!-- REQUIRED wrapper for hard reset -->
  <div id="file-input-wrapper">
    <label class="file-picker">
      <input type="file" id="fileInput" hidden />
      <span id="selected-file-text">Select file</span>
    </label>
  </div>

  <div class="cloud-options" id="cloudSelect">
    <label><input type="checkbox" value="AWS"> AWS</label>
    <label><input type="checkbox" value="AZURE"> Azure</label>
    <label><input type="checkbox" value="GCP"> GCP</label>
  </div>

  <button class="primary-btn" onclick="startUpload()">Upload</button>

  <div id="upload-status-container"></div>
</section>

    <!-- FOLDERS -->
    <section class="card">
      <h3>Folders</h3>
      <div class="folders-grid" id="folders-container"></div>
    </section>

    <!-- RECENT FILES -->
    <section class="card full">
      <h3>Recent Files</h3>
      <table class="table">
  <thead>
    <tr>
      <th class="col-name">Name</th>
      <th class="col-size">Size</th>
      <th class="col-clouds">Clouds</th>
      <th class="col-date">Uploaded</th>
    </tr>
  </thead>
  <tbody id="recent-files-table"></tbody>
</table>

    </section>

    <!-- ALL FILES -->
    <section class="card full">
      <h3>Your Files</h3>
      <table class="table">
  <thead>
    <tr>
      <th class="col-name">Name</th>
      <th class="col-clouds">Clouds</th>
      <th class="col-actions">Actions</th>
    </tr>
  </thead>
  <tbody id="filesTable"></tbody>
</table>

    </section>

  </main>

  <!-- CONFIRM DELETE MODAL -->
<!-- DELETE CONFIRM MODAL -->
<div id="deleteModal" class="modal hidden">
  <div class="modal-box">
    <h3>Delete file from clouds</h3>

    <div id="deleteCloudOptions"></div>

    <div class="modal-actions">
      <button id="confirmDeleteBtn" class="btn-delete">Delete</button>
      <button onclick="closeDeleteModal()" class="btn-cancel">Cancel</button>
    </div>
  </div>
</div>


  <!-- ===============================
       JS FILES (ORDER MATTERS)
       =============================== -->
  <script src="../js/config.js"></script>
  <script src="../js/utils.js"></script>
  <script src="../js/files.js"></script>
  <script src="../js/upload.js"></script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script src="../js/payments.js"></script>
  <script src="../js/dashboard.js"></script>

</body>
</html>
